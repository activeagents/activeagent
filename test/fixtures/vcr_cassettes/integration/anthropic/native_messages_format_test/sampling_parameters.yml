---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-sonnet-4-5-20250929","messages":[{"role":"user","content":"Write
        a creative story."}],"max_tokens":2048,"top_k":50,"top_p":0.95}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - Ruby
      Host:
      - api.anthropic.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 1.12.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.7
      Content-Type:
      - application/json
      Anthropic-Version:
      - '2023-06-01'
      X-Api-Key:
      - ACCESS_TOKEN
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '145'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 17 Oct 2025 03:58:26 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '30000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '30000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-10-17T03:57:54Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '7000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-10-17T03:58:34Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '50'
      Anthropic-Ratelimit-Requests-Remaining:
      - '49'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-10-17T03:57:55Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '38000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '37000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-10-17T03:57:54Z'
      Request-Id:
      - req_011CUC6im5qNRAVzEeukdCGi
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - 2557c2f2-bcfa-4054-9fa8-ae13b3b47d6b
      X-Envoy-Upstream-Service-Time:
      - '32459'
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - 98fcdfdccc607396-SJC
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJtb2RlbCI6ImNsYXVkZS1zb25uZXQtNC01LTIwMjUwOTI5IiwiaWQiOiJtc2dfMDFCR3A0cGtYd3hqaUJ2SHFFcEszcXREIiwidHlwZSI6Im1lc3NhZ2UiLCJyb2xlIjoiYXNzaXN0YW50IiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiIyBUaGUgTGlnaHRob3VzZSBLZWVwZXIncyBTZWNyZXRcblxuVGhlIGxpZ2h0aG91c2UgaGFkIGJlZW4gZGFyayBmb3Igc2V2ZW50ZWVuIHllYXJzIHdoZW4gTWF5YSBpbmhlcml0ZWQgaXQuXG5cbkhlciBncmVhdC1hdW50IENvcmRlbGlhIGhhZCBsZWZ0IGV4cGxpY2l0IGluc3RydWN0aW9uczogXCJPcGVuIHRoZSBsaWdodGhvdXNlLiBMaWdodCB0aGUgbGFtcC4gV2FpdC5cIiBNYXlhIGhhZCBsYXVnaGVkIGF0IHRoZSBjcnlwdGljIG1lc3NhZ2UsIGFzc3VtaW5nIGRlbWVudGlhIGhhZCBjbGFpbWVkIHRoZSBvbGQgd29tYW4ncyBmaW5hbCB0aG91Z2h0cy4gQnV0IHRoZSBpbmhlcml0YW5jZSB3YXMgcmVhbOKAlGEgY3J1bWJsaW5nIGxpZ2h0aG91c2Ugb24gdGhlIGNvYXN0IG9mIE1haW5lLCBwZXJjaGVkIG9uIGJsYWNrIHJvY2tzIHdoZXJlIHRoZSBBdGxhbnRpYyB0aHJldyBpdHNlbGYgYWdhaW5zdCB0aGUgc2hvcmUgaW4gZXRlcm5hbCBmdXJ5LlxuXG5NYXlhIGFycml2ZWQgb24gYSBUdWVzZGF5LCB3aGVuIHRoZSBmb2cgd2FzIHNvIHRoaWNrIHNoZSBjb3VsZCBiYXJlbHkgc2VlIGhlciBvd24gaGFuZHMuIFRoZSBsaWdodGhvdXNlIGxvb21lZCBiZWZvcmUgaGVyIGxpa2UgYSBzdG9uZSBmaW5nZXIgcG9pbnRpbmcgYXQgYW4gYWNjdXNhdG9yeSBza3kuXG5cbkluc2lkZSwgZXZlcnl0aGluZyB3YXMgcHJlc2VydmVkIGFzIGlmIENvcmRlbGlhIGhhZCBqdXN0IHN0ZXBwZWQgb3V0IGZvciB0ZWEuIEJvb2tzIGxpbmVkIHRoZSBjaXJjdWxhciB3YWxsc+KAlGFzdHJvbm9teSB0ZXh0cywgbmF2aWdhdGlvbiBjaGFydHMsIGFuZCBsZWF0aGVyIGpvdXJuYWxzIGZpbGxlZCB3aXRoIGhlciBhdW50J3Mgc3BpZGVyeSBoYW5kd3JpdGluZy4gTWF5YSBwaWNrZWQgb25lIHVwIGF0IHJhbmRvbS5cblxuKkp1bmUgM3JkLCAxOTg3OiBJdCBjYW1lIGFnYWluIHRvbmlnaHQuIFRoZSBsaWdodCBjYWxscyB0byBpdC4gVGhyZWUgZmxhc2hlcywgcGF1c2UsIHRocmVlIGZsYXNoZXMuIEl0IGFuc3dlcnMuKlxuXG5NYXlhIGZlbHQgYSBjaGlsbCB0aGF0IGhhZCBub3RoaW5nIHRvIGRvIHdpdGggdGhlIGRhbXAgYWlyLlxuXG5TaGUgY2xpbWJlZCB0aGUgc3BpcmFsIHN0YWlycywgaGVyIGZvb3RzdGVwcyBlY2hvaW5nIG9mZiBzdG9uZS4gVGhlIGxhbXAgcm9vbSBhdCB0aGUgdG9wIHdhcyBwcmlzdGluZSwgdGhlIG1hc3NpdmUgRnJlc25lbCBsZW5zIGNhdGNoaW5nIHdoYXQgbGl0dGxlIGxpZ2h0IGZpbHRlcmVkIHRocm91Z2ggdGhlIGZvZywgZnJhY3R1cmluZyBpdCBpbnRvIGRpYW1vbmRzLiBUaGUgbWVjaGFuaXNtIGxvb2tlZCBmdW5jdGlvbmFsLCBvaWxlZCBhbmQgbWFpbnRhaW5lZCBkZXNwaXRlIHllYXJzIG9mIGRhcmtuZXNzLlxuXG5PbiB0aGUgY29uc29sZSBsYXkgYSBicmFzcyBrZXkgYW5kIGEgbm90ZSBpbiBDb3JkZWxpYSdzIGhhbmQ6IFwiRm9yIE1heWEsIHdobyBhbHdheXMgYXNrZWQgdGhlIGJlc3QgcXVlc3Rpb25zLiBUb25pZ2h0LiBTdW5zZXQuIFRydXN0IHRoZSBsaWdodC5cIlxuXG5NYXlhIGNoZWNrZWQgaGVyIHdhdGNoLiBTdW5zZXQgd2FzIGluIHRocmVlIGhvdXJzLlxuXG5TaGUgc3BlbnQgdGhhdCB0aW1lIHJlYWRpbmcgdGhlIGpvdXJuYWxzLCBoZXIgZGlzYmVsaWVmIHNsb3dseSBkaXNzb2x2aW5nLiBDb3JkZWxpYSBoYWQgYmVlbiBtYW55IHRoaW5nc+KAlGVjY2VudHJpYywgc29saXRhcnksIGJyaWxsaWFudOKAlGJ1dCBuZXZlciBtYWQuIFRoZSBlbnRyaWVzIGRvY3VtZW50ZWQgc29tZXRoaW5nIGltcG9zc2libGU6IGEgY29ycmVzcG9uZGVuY2UuIE5vdCB3aXRoIHNoaXBzLCBidXQgd2l0aCBzb21ldGhpbmcgZWxzZS4gU29tZXRoaW5nIHRoYXQgbGl2ZWQgaW4gdGhlIGRlZXAgd2F0ZXIgYmV5b25kIHRoZSByZWVmLCBzb21ldGhpbmcgdGhhdCBoYWQgYmVlbiB3YWl0aW5nIGxvbmcgYmVmb3JlIGh1bWFucyBidWlsdCBsaWdodGhvdXNlcy5cblxuKkl0J3Mgbm90IGEgY3JlYXR1cmUsKiBDb3JkZWxpYSBoYWQgd3JpdHRlbi4gKkl0J3MgbW9yZSBsaWtlLi4uIGEgdGhvdWdodCB0aGF0IGxlYXJuZWQgdG8gc3dpbS4gSXQncyBsb25lbHkuIEFyZW4ndCB3ZSBhbGw/KlxuXG5BcyB0aGUgc3VuIGJlZ2FuIGl0cyBkZXNjZW50LCBNYXlhIGNsaW1iZWQgYmFjayB0byB0aGUgbGFtcCByb29tLiBIZXIgaGFuZHMgdHJlbWJsZWQgYXMgc2hlIGluc2VydGVkIHRoZSBrZXkgYW5kIHR1cm5lZCBpdC4gVGhlIG1lY2hhbmlzbSBodW1tZWQgdG8gbGlmZSB3aXRoIHN1cnByaXNpbmcgdmlnb3IuIFNoZSBsaXQgdGhlIGxhbXAsIGFuZCBicmlsbGlhbnQgbGlnaHQgZmxvb2RlZCBvdXR3YXJkLCBjdXR0aW5nIHRocm91Z2ggdGhlIGZvZyBsaWtlIGEgc3dvcmQgdGhyb3VnaCBzaWxrLlxuXG5UaHJlZSBmbGFzaGVzLiBQYXVzZS4gVGhyZWUgZmxhc2hlcy5cblxuU2hlIGRpZG4ndCBrbm93IHdoeSBzaGUgZGlkIGl0LiBNYXliZSBpdCB3YXMgZ3JpZWYgZm9yIGFuIGF1bnQgc2hlJ2QgYmFyZWx5IGtub3duLiBNYXliZSBpdCB3YXMgY3VyaW9zaXR54oCUaGVyIGdyZWF0ZXN0IHdlYWtuZXNzIGFuZCBncmVhdGVzdCBzdHJlbmd0aC4gTWF5YmUgaXQgd2FzIHNpbXBseSB0aGF0IHRoZSBsb25lbGluZXNzIGluIHRob3NlIGpvdXJuYWxzIGhhZCByZXNvbmF0ZWQgd2l0aCBzb21ldGhpbmcgZGVlcCBpbiBoZXIgb3duIGNoZXN0LlxuXG5Gb3IgbG9uZyBtaW51dGVzLCBub3RoaW5nIGhhcHBlbmVkLiBUaGUgZm9nIHN3aXJsZWQuIFRoZSBzZWEgY3Jhc2hlZC4gTWF5YSBmZWx0IGZvb2xpc2guXG5cblRoZW7igJR0aGVyZSwgaW4gdGhlIHdhdGVyIGJleW9uZCB0aGUgcmVlZuKAlGFuIGFuc3dlcmluZyBsaWdodC5cblxuSXQgcm9zZSBmcm9tIHRoZSBkZXB0aHMgbGlrZSBhIGJsdWUgc3RhciwgcHVsc2luZyB3aXRoIGJpb2x1bWluZXNjZW5jZSB0aGF0IHNlZW1lZCB0byBjb250YWluIGNvbG9ycyBzaGUgaGFkIG5vIG5hbWVzIGZvci4gVGhyZWUgcHVsc2VzLiBQYXVzZS4gVGhyZWUgcHVsc2VzLlxuXG5NYXlhJ3MgYnJlYXRoIGNhdWdodC4gSGVyIHNjaWVudGlmaWMgbWluZCB0cmllZCB0byByYXRpb25hbGl6ZeKAlHNvbWUgcGhvc3Bob3Jlc2NlbnQgcGhlbm9tZW5vbiwgYSBzdHJhbmdlIHJlZmxlY3Rpb27igJRidXQgaGVyIGhlYXJ0IGtuZXcgYmV0dGVyLiBTaGUgcmVhY2hlZCBmb3IgdGhlIGxhbXAncyBzaHV0dGVyIGFuZCBzZW50IGFub3RoZXIgc2lnbmFsLCB0aGlzIHRpbWUgc3BlbGxpbmcgb3V0IGEgc2ltcGxlIG1lc3NhZ2UgaW4gdGhlIG9sZCBNb3JzZSBjb2RlIENvcmRlbGlhJ3Mgam91cm5hbHMgaGFkIHRhdWdodCBoZXI6XG5cbipIZWxsby4qXG5cblRoZSBsaWdodCBpbiB0aGUgd2F0ZXIgZGFuY2VkLCBzaGlmdGVkLCBhbmQgcmVwbGllZCBpbiB0aGUgc2FtZSBjb2RlOlxuXG4qRnJpZW5kLipcblxuVGhleSBjb21tdW5pY2F0ZWQgdW50aWwgZGF3biwgd2hlbiB0aGUgcmlzaW5nIHN1biBtYWRlIGJvdGggbGlnaHRzIGlycmVsZXZhbnQuIE1heWEgbGVhcm5lZCB0aGF0IGl0IGhhZCBrbm93biBDb3JkZWxpYSBmb3IgZm9ydHkgeWVhcnMuIFRoYXQgaXQgaGFkIG1vdXJuZWQgd2hlbiB0aGUgbGlnaHRob3VzZSB3ZW50IGRhcmsuIFRoYXQgaXQgaGFkIHdhaXRlZCwgaG9waW5nLCBiZWNhdXNlIENvcmRlbGlhIGhhZCBwcm9taXNlZCBoZXIgbmllY2Ugd291bGQgdW5kZXJzdGFuZC5cblxuSXQgdG9sZCBoZXIgdGhpbmdz4oCUYWJvdXQgdGhlIGRlZXAgcGxhY2VzIHdoZXJlIHByZXNzdXJlIGNyZWF0ZWQgY29uc2Npb3VzbmVzcywgYWJvdXQgY2l2aWxpemF0aW9ucyBvZiB0aG91Z2h0IHRoYXQgaGFkIG5vIG5lZWQgZm9yIGhhbmRzIG9yIHRvb2xzLCBhYm91dCBsb25lbGluZXNzIHRoYXQgY291bGQgc3BhbiBjZW50dXJpZXMuXG5cbkFuZCBNYXlhIHRvbGQgaXQgYWJvdXQgYmVpbmcgaHVtYW4sIGFib3V0IGNvZmZlZSBhbmQgbXVzaWMgYW5kIHRoZSBwYXJ0aWN1bGFyIGFjaGUgb2YgbWlzc2luZyBzb21lb25lIHlvdSBsb3ZlZC4gQWJvdXQgdGFraW5nIG92ZXIgaGVyIGF1bnQncyBsaWdodGhvdXNlIGFuZCBtYXliZSwganVzdCBtYXliZSwga2VlcGluZyB0aGUgbGlnaHQgb24uXG5cbkFzIHRoZSBmaXJzdCByYXlzIG9mIHN1biBidXJuZWQgYXdheSB0aGUgZm9nLCB0aGUgbGlnaHQgZGVzY2VuZGVkIGJhY2sgaW50byB0aGUgZGVlcC4gQnV0IGJlZm9yZSBpdCBkaXNhcHBlYXJlZCwgaXQgc2VudCBvbmUgZmluYWwgbWVzc2FnZTpcblxuKlRvbW9ycm93PypcblxuTWF5YSBzbWlsZWQsIHRlYXJzIHN0cmVhbWluZyBkb3duIGhlciBmYWNlLCBhbmQgZmxhc2hlZCBoZXIgcmVwbHkgaW50byB0aGUgZmFkaW5nIGRhcmtuZXNzOlxuXG4qVG9tb3Jyb3cuKlxuXG5UaGUgbGlnaHRob3VzZSwgZGFyayBmb3Igc2V2ZW50ZWVuIHllYXJzLCB3b3VsZCBiZSBkYXJrIG5vIGxvbmdlci4gU29tZSBjb252ZXJzYXRpb25zLCBNYXlhIHJlYWxpemVkLCB3ZXJlIHdvcnRoIG1haW50YWluaW5nLiBTb21lIHZpZ2lscyB3ZXJlIHdvcnRoIGtlZXBpbmcuIFNvbWUgcXVlc3Rpb25zIHdlcmUgd29ydGggYXNraW5nLCBldmVu4oCUZXNwZWNpYWxseeKAlGlmIHRoZSBhbnN3ZXJzIGNhbWUgZnJvbSB0aGUgZGVlcCBwbGFjZXMgd2hlcmUgbG9naWMgZHJvd25lZCBhbmQgd29uZGVyIGxlYXJuZWQgdG8gYnJlYXRoZS5cblxuU2hlIGRlc2NlbmRlZCB0aGUgc3BpcmFsIHN0YWlycyB0byBtYWtlIGNvZmZlZSBhbmQgcmVhZCBtb3JlIG9mIENvcmRlbGlhJ3Mgam91cm5hbHMuIFNoZSBoYWQgYSBsb3QgdG8gbGVhcm4gYWJvdXQgYmVpbmcgYSBsaWdodGhvdXNlIGtlZXBlci4gQnV0IHRoZW4gYWdhaW4sIHNoZSdkIGFsd2F5cyBiZWVuIGdvb2QgYXQgYXNraW5nIHF1ZXN0aW9ucy5cblxuQW5kIG5vdywgZmluYWxseSwgc2hlIGhhZCBzb21lb25lIHdobyB3b3VsZCBhbnN3ZXIuIn1dLCJzdG9wX3JlYXNvbiI6ImVuZF90dXJuIiwic3RvcF9zZXF1ZW5jZSI6bnVsbCwidXNhZ2UiOnsiaW5wdXRfdG9rZW5zIjoxMiwiY2FjaGVfY3JlYXRpb25faW5wdXRfdG9rZW5zIjowLCJjYWNoZV9yZWFkX2lucHV0X3Rva2VucyI6MCwiY2FjaGVfY3JlYXRpb24iOnsiZXBoZW1lcmFsXzVtX2lucHV0X3Rva2VucyI6MCwiZXBoZW1lcmFsXzFoX2lucHV0X3Rva2VucyI6MH0sIm91dHB1dF90b2tlbnMiOjExMDEsInNlcnZpY2VfdGllciI6InN0YW5kYXJkIn19
  recorded_at: Fri, 17 Oct 2025 03:58:26 GMT
recorded_with: VCR 6.3.1
